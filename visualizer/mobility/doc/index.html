<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="../../../doc/showcases.css">
	<title>Visualizing Mobility</title>
</head>

<body>
	<h1>Visualizing Mobility</h1>

	<p><h2>Goals</h2></p>

	<p>
		In simulations with mobile nodes sometimes the nodes' movement is more important than the communication between the nodes.
		When mobile nodes roam in the network, it is difficult to follow their movement or figure out where they to move.
    </p>
    <p>
        By visualizing nodes' mobility we can track the roaming nodes easily.
        The visualizer displays the nodes' recent movement trail, orientation and velocity.
        With these informations the nodes' movements are easily traceable.
    </p>
    <p>    
        The showcase consists of one simulation model, that demonstrates important features of mobility visualization.
    </p>
    <p>
        INET version: <var>3.6</var><br>
        Source files location: <var>inet/showcases/visualization/mobility</var>
    </p>


    <p><h2>About the Visualizer</h2></p>
    <p>
        The <var>MobilityVisualizer</var> module (included in the network as part of <var>IntegratedVisualizer</var>) can visualize movement informations of nodes.
        The visualization is enabled by the <var>displayMovements</var> parameter which is true by default.
        The visualizer has three main features:
    </p>
    <ul>
    <li><b>Displaying movement trail</b></li>
    <p>
        Movement trail shows the node's recent movement trajectory.
        The trail consists of sections.
        We can set that how many sections form the trail.
        The end of the trail is fading out as time passes.
        By default the trail's color is different for each node.
    </p>
    <li><b>Displaying velocity vector</b></li>
    <p>
        Velocity is represented visually by a solid arrow.
        Its length is proportional to the node's speed.
        It is possible multiply the arrow's size.
        The arrow's direction coincides with the movement's direction.
    </p>
    <li><b>Displaying orientation arc</b></li>
    <p>
        Orientation is represented by an arc.
        The arc's size is specified by the <var>orientationArcSize</var> parameter.
        This value is the relative size of the arc compared to a full circle.
        The arc's default value is 0.25, i.e. a quarter or a circle.
    </p>
    </ul>
    <p>
        By default, these features are turned off.
        Each of these features has a parameter, which enables its visualization by setting it to true.
        These parameters are the <var>displayMovementTrails</var>, the <var>displayVelocities</var> and the <var>displayOrientations</var>.
    </p>
    <!--
        TODO: If moduleFilter works
    <p>
        The visualizer has a <var>moduleFilter</var> parameter which determines which mobilities are considered at the visualization.
        It matches all mobilities by default.
    </p>
    -->


	<p><h2>Visualizing Mobility Features</h2></p>
    <p>
        In this section we present an example for demonstrating the visualization of mobility features.
        This simulation can be run by choosing the <var>VisualizingFeatures</var> configuration from the ini file.
    </p>
    <p>
        We place three <var>AdhocHosts</var> (<var>host1</var>, <var>host2</var> and <var>host3</var>) on the playground.
        Because of the mobility settings, they roam randomly between the predefined borders.
        The speed of the nodes is different.
    </p>
    <p>
        When we start the simulation with the visualization's default settings, we can see nodes which are roaming randomly on the playground.
        It is difficult to follow their movement:
    </p>
    <p align="center">        
        <video autoplay loop controls onclick="this.paused ? this.play() : this.pause();" width=814 height=695 src="ShowNothing_v2.m4v">
    </p>
    <p>
        We display the movement trail, the velocity vector and the orientation arc of the nodes.
        Here is the configuration:
    </p>
    <div class="snippet">
        # Movement trail<br>
        *.visualizer.*.mobilityVisualizer.displayMovementTrails = true<br>
        <br>
        # Velocity vector<br>
        *.visualizer.*.mobilityVisualizer.displayVelocities = true<br>
        <br>
        # Orientation<br>
        *.visualizer.*.mobilityVisualizer.displayOrientations = true<br>
    </div>
    <p>
        Now it is easy to follow the nodes' movement and determine their direction:
    </p>
    <p align="center">        
        <video autoplay loop controls onclick="this.paused ? this.play() : this.pause();" width=814 height=695 src="DefaultParams_v2.m4v">
    </p>
    <p>
        Exactly in the previous video <var>host3</var> does not move randomly.
        Did you notice this?
        It moves in a circular arc. :)<br>
        If we display the movement trail then it is easy to notice this.
        Each node has a movement trail, a velocity vector and an orientation arc.
        The trails' line colors are different, because the line color parameter is set <var>"auto"</var>.
        The velocity vectors' length indicates how fast the nodes move.
        The orientation arcs are always turning to the node's direction.
        In this simulation it matches with the movement direction.
    </p>


    <p><h2>More Information</h2></p>
    <p>
        This example only demonstrated some features of mobility visualization. For more information, refer to the 
<var>MobilityVisualizer</var> NED documentation.
    </p>
</body>

</html>
